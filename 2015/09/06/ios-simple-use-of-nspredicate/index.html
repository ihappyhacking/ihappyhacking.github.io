<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"meilbn.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.13.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"disqus | disqusjs","storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="0x00 前言最近在重新学习 Objective-C，因为觉得基础非常重要，而且对 Objective-C 的使用都基本上是工作中用到的，了解得还不够多，就算当初学习 Objective-C 的时候知道了，但是到现在也忘了不少东西。内容主要来自《Objective-C 基础教程（第2版）》，这本书的代码可以到这里下载。">
<meta property="og:type" content="article">
<meta property="og:title" content="NSPredicate 的简单使用">
<meta property="og:url" content="https://meilbn.com/2015/09/06/ios-simple-use-of-nspredicate/index.html">
<meta property="og:site_name" content="Happy Hacking">
<meta property="og:description" content="0x00 前言最近在重新学习 Objective-C，因为觉得基础非常重要，而且对 Objective-C 的使用都基本上是工作中用到的，了解得还不够多，就算当初学习 Objective-C 的时候知道了，但是到现在也忘了不少东西。内容主要来自《Objective-C 基础教程（第2版）》，这本书的代码可以到这里下载。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2015-09-06T01:04:49.000Z">
<meta property="article:modified_time" content="2019-01-12T09:35:59.000Z">
<meta property="article:author" content="我的眼里只有代码">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="Objective-C">
<meta property="article:tag" content="NSPredicate">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://meilbn.com/2015/09/06/ios-simple-use-of-nspredicate/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://meilbn.com/2015/09/06/ios-simple-use-of-nspredicate/","path":"2015/09/06/ios-simple-use-of-nspredicate/","title":"NSPredicate 的简单使用"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>NSPredicate 的简单使用 | Happy Hacking</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-69209675-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-69209675-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>



<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Happy Hacking</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">我的眼里只有代码</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">50</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">11</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">66</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#0x00-%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">0x00 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x01-NSPredicate"><span class="nav-number">2.</span> <span class="nav-text">0x01 NSPredicate</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x02-%E5%88%9B%E5%BB%BA%E8%B0%93%E8%AF%8D"><span class="nav-number">3.</span> <span class="nav-text">0x02 创建谓词</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x03-%E8%AE%A1%E7%AE%97%E8%B0%93%E8%AF%8D"><span class="nav-number">4.</span> <span class="nav-text">0x03 计算谓词</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x04-%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">5.</span> <span class="nav-text">0x04 数据过滤器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x05-%E6%A0%BC%E5%BC%8F%E8%AF%B4%E6%98%8E%E7%AC%A6"><span class="nav-number">6.</span> <span class="nav-text">0x05 格式说明符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x06-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">7.</span> <span class="nav-text">0x06 运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E5%92%8C%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">7.1.</span> <span class="nav-text">比较和逻辑运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">7.2.</span> <span class="nav-text">数组运算符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x07-%E6%9C%89-SELF-%E5%B0%B1%E8%B6%B3%E5%A4%9F%E4%BA%86"><span class="nav-number">8.</span> <span class="nav-text">0x07 有 SELF 就足够了</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x08-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">9.</span> <span class="nav-text">0x08 字符串运算符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x09-LIKE-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">10.</span> <span class="nav-text">0x09 LIKE 运算符</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="我的眼里只有代码"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">我的眼里只有代码</p>
  <div class="site-description" itemprop="description">You are the code of my eye.<br>'Cause you are the apple of my eye.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">50</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">66</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/meilbn" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;meilbn" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/fuckingcode" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;fuckingcode" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/meilbn" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;meilbn" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/meilbn" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;meilbn" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/4318339/meilbn" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;4318339&#x2F;meilbn" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/meilbn" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;meilbn" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://meilbn.com/2015/09/06/ios-simple-use-of-nspredicate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="我的眼里只有代码">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Happy Hacking">
      <meta itemprop="description" content="You are the code of my eye.<br>'Cause you are the apple of my eye.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="NSPredicate 的简单使用 | Happy Hacking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          NSPredicate 的简单使用
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2015-09-06 09:04:49" itemprop="dateCreated datePublished" datetime="2015-09-06T09:04:49+08:00">2015-09-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2019-01-12 17:35:59" itemprop="dateModified" datetime="2019-01-12T17:35:59+08:00">2019-01-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a>
        </span>
    </span>

  
    <span id="/2015/09/06/ios-simple-use-of-nspredicate/" class="post-meta-item leancloud_visitors" data-flag-title="NSPredicate 的简单使用" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h1><p>最近在重新学习 Objective-C，因为觉得基础非常重要，而且对 Objective-C 的使用都基本上是工作中用到的，了解得还不够多，就算当初学习 Objective-C 的时候知道了，但是到现在也忘了不少东西。内容主要来自<a target="_blank" rel="noopener" href="http://www.amazon.cn/%E5%9B%BE%E7%81%B5%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E4%B8%9B%E4%B9%A6%E2%80%A2%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97-Objective-C%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B-%E5%85%8B%E7%BA%B3%E6%96%AF%E7%89%B9/dp/B00COG40Y0/ref=sr_1_1?s=books&ie=UTF8&qid=1441502082&sr=1-1&keywords=Objective-C+%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B">《Objective-C 基础教程（第2版）》</a>，这本书的代码可以到<a target="_blank" rel="noopener" href="http://www.apress.com/9781430241881">这里</a>下载。</p>
<span id="more"></span>

<h1 id="0x01-NSPredicate"><a href="#0x01-NSPredicate" class="headerlink" title="0x01 NSPredicate"></a>0x01 NSPredicate</h1><p>其实当初第一次接触 NSPredicate 的时候，觉得不是很懂，也觉得有点难，也没去多了解一下，直到最近重新学基础时才发觉，其实 NSPredicate 挺好用的，也很好理解，以前用的最多的应该是正则吧，各种语言里面都是可以用的，就是需要记住的符号什么的好多，如果长时间不用的话，就会忘记，虽然这很正常。</p>
<p>基本上每个 App 都会涉及到数据的筛选过滤，也就是搜索，很少见到哪个 App 没有搜索功能。Cocoa 用 NSPredicate 描述查询的方式，原理类似于数据库查询，其实感觉语法上也有点相似呢。</p>
<h1 id="0x02-创建谓词"><a href="#0x02-创建谓词" class="headerlink" title="0x02 创建谓词"></a>0x02 创建谓词</h1><p>我们这里还是使用书上的例子，不过不用担心，就算没有看过书上的例子代码也是 OK 的，不难理解。<br>下面是一个快速创建一辆汽车的 C 函数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Car *<span class="title function_">makeCar</span><span class="params">(NSString *name, NSString *make, NSString *model, <span class="type">int</span> modelYear, <span class="type">int</span> numberOfDoors, <span class="type">float</span> mileage, <span class="type">int</span> horsepower)</span> &#123;</span><br><span class="line">	Car *car = [[[Car alloc] init] autorelease];</span><br><span class="line">	car.name = name;</span><br><span class="line">	car.make = make;</span><br><span class="line">	car.model = model;</span><br><span class="line">	car.modelYear = modelYear;</span><br><span class="line">	car.numberOfDoors = numberOfDoors;</span><br><span class="line">	car.mileage = mileage;</span><br><span class="line">	</span><br><span class="line">	Slant6 *engine = [[[Slant6 alloc] init] autorelease];</span><br><span class="line">	[engine setValue:[NSNumber numberWithInt:horsepower] forKey:@<span class="string">&quot;horsepower&quot;</span>];</span><br><span class="line">	car.engine = engine;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// Make some tires.</span></span><br><span class="line">	<span class="comment">// int i;</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">		Tire * tire= [[[Tire alloc] init] autorelease];</span><br><span class="line">		[car setTire:tire  atIndex:i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (car);</span><br><span class="line">&#125; <span class="comment">// makeCar</span></span><br></pre></td></tr></table></figure>

<p>可以使用这个 C 函数来创建一辆汽车：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Car *car = makeCar(<span class="string">@&quot;Herbie&quot;</span>, <span class="string">@&quot;Honda&quot;</span>, <span class="string">@&quot;CRX&quot;</span>, <span class="number">1984</span>, <span class="number">2</span>, <span class="number">34000</span>, <span class="number">58</span>);</span><br><span class="line">[garage addCar:car];</span><br></pre></td></tr></table></figure>

<p>上面代码创建一辆汽车，具体的汽车信息为：Herbie 品牌，型号为双门1984 Honda CRX，马力引擎为58，已行驶34000英里。</p>
<p>现在来创建谓词：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSPredicate</span> *predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;name == &#x27;Herbie&#x27;&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>我们使用 NSPredicate 的类方法 <code>+predicateWithFormat:</code> 创建了一个 NSPredicate 的对象，并传入了一个字符串参数，这个类方法使用该字符串在后台构建对象，来计算谓词的值，简单来说，就是以这个字符串来当筛选过滤的条件。</p>
<h1 id="0x03-计算谓词"><a href="#0x03-计算谓词" class="headerlink" title="0x03 计算谓词"></a>0x03 计算谓词</h1><p>通过以上步骤，就创建好了一个谓词，现在我们可以使用它了：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BOOL</span> match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%s&quot;</span>, (match) ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>方法 <code>-evaluateWithObject:</code> 通知接收对象（即谓词）根据指定的对象计算自身的值。这里是以 name 作为键路径，使用 <code>-valueForKeyPath:</code> 方法来获取名称，然后将自身的这个名称（即 name）与 Herbie 进行比较，相同返回 YES，否则返回 NO。</p>
<p>以下是另外一个谓词：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;engine.horsepower &gt; 150&quot;</span>];</span><br><span class="line">match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%s&quot;</span>, (match) ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>这个谓词字符串的左侧是一个键路径，该键路径链接到 car 内部，查找 engine，然后再查找 engine 的 horsepower，然后将其与150进行比较，看它是否大于150。</p>
<p>以上都是通过特定的谓词条件检查单个对象，都很简单，但是在实际工作当中，我们通常都是从一堆的数据里面进行筛选的，比如，有一个车库，我们需要筛选出哪些汽车的马力大于150，普通的做法可能如下：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Car *car <span class="keyword">in</span> [garage cars]) &#123;</span><br><span class="line">	<span class="keyword">if</span> ([predicate evaluateWithObject:car]) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, car.name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 for 循环遍历每一辆汽车，然后检查其马力是否大于150，大于150的话，就输出汽车的名字。</p>
<h1 id="0x04-数据过滤器"><a href="#0x04-数据过滤器" class="headerlink" title="0x04 数据过滤器"></a>0x04 数据过滤器</h1><p>懒惰一直是编程人员的缺点，但是在某种意义上也是优点。如果不用编写这样的 for 循环和 if 语句，没什么不好的。而且 Cocoa 也提供了这样的方法：<code>-filteredArrayUsingPredicate:</code>，这个方法是 NSArray 数组中的一种类别方法，它会循环遍历数组中的对象，根据谓词来计算每个对象的值，如果是 YES，那么就将这个对象添加到将被返回的新数组中，感觉这个和上面的那个 for 循环类似吧？</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, results);</span><br></pre></td></tr></table></figure>

<p>这样的话，只需要一行代码就可以获取筛选之后的结果了，不过这里输出的是汽车的全部信息，而不是上面那样输出汽车的名字，不过我们可以使用 KVC（键值编码）来提取其中的名称：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *names = [results valueForKey:<span class="string">@&quot;name&quot;</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, names);</span><br></pre></td></tr></table></figure>

<p>上面的 cars 是不可变数组，如果我们的数据是存放在可变数组里面，而且我们需要剔除不满足条件的对象的话，可以使用 NSMutableArray 的 <code>-filterUsingPredicate:</code> 方法：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableArray</span> *carsCopy = [cars mutableCopy];</span><br><span class="line">[carsCopy filterUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, carsCopy);</span><br></pre></td></tr></table></figure>

<p>因为 NSMutableArray 是 NSArray 的子类，所以也是可以用 <code>-filteredArrayUsingPredicate:</code> 方法来构建新的不可变数组的。使用谓词的确很便捷，但是它的运行速度并不会比自己编写全部代码要快，因为它无法避免要使用循环来遍历。</p>
<h1 id="0x05-格式说明符"><a href="#0x05-格式说明符" class="headerlink" title="0x05 格式说明符"></a>0x05 格式说明符</h1><p>从方法 <code>-predicateWithFormat:</code> 可以看出来，传入的字符串是可以使用格式说明符的，比如：<code>%d</code>、<code>%f</code> 等。而且一般筛选条件都不是硬编码到项目里面的，都是根据用户的输入来进行筛选的。</p>
<p>除了可以使用 printf 说明符，还可以使用 <code>%@</code> 来插入字符串，而 <code>%@</code> 会被当做带引号的字符串：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;name == %@&quot;</span>, <span class="string">@&quot;Herbie&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>要注意，这里的格式字符串 <code>%@</code> 并没有打单引号，如果打上了单引号，例如：<code>&quot;name == &#39;%@&#39;&quot;</code>，字符 <code>%</code> 和 <code>@</code> 会被当做普通字符而失去了格式说明符的作用。</p>
<p>NSPredicate 字符串中也可以使用 <code>%K</code> 来指定键路径：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;%K == %@&quot;</span>, <span class="string">@&quot;name&quot;</span>, <span class="string">@&quot;Herbie&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>为了构造灵活的谓词，一种方式是使用格式说明符，另一种方式是将变量名放入字符串中，类似于环境变量：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSPredicate</span> *predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;name == $NAME&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>现在，我们有一个含有变量的谓词，可以使用 <code>-predicateWithSubstitutionVariables:</code> 来构造新的专用谓词，创建一个键&#x2F;值对字典，其中键是变量名（不包含美元符号$），值是想要插入谓词的内容：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDictionary</span> *varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:<span class="string">@&quot;Herbie&quot;</span>, <span class="string">@&quot;NAME&quot;</span>, <span class="literal">nil</span>];</span><br></pre></td></tr></table></figure>

<p>这里使用字符串 “Herbie” 作为键 “NAME” 的值，构造以下新谓词：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];</span><br></pre></td></tr></table></figure>

<p>这个谓词跟之前的那些没什么不一样。</p>
<p>也可以用其他对象作为变量的值，例如 NSNumber，以下谓词用于过滤引擎的马力：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:@:<span class="string">&quot;engine.horsepower &gt; $POWER&quot;</span>];</span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">150</span>], <span class="string">@&quot;POWER&quot;</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];</span><br></pre></td></tr></table></figure>

<p>除了使用 NSNumber 和 NSString 之外，也可以使用 <code>[NSNull null]</code> 来设置 nil 值，甚至可以使用数组。要注意的是，不能使用 <code>&quot;$变量名&quot;</code> 作为键路径，它只能表示值。使用谓词格式字符串时，如果想在程序中通过代码改变键路径，需要使用 <code>%K</code> 格式说明符。谓词机制不进行静态类型检查。</p>
<h1 id="0x06-运算符"><a href="#0x06-运算符" class="headerlink" title="0x06 运算符"></a>0x06 运算符</h1><p>NSPredicate 的格式字符串包含大量不同的运算符。</p>
<h2 id="比较和逻辑运算符"><a href="#比较和逻辑运算符" class="headerlink" title="比较和逻辑运算符"></a>比较和逻辑运算符</h2><p>谓词字符串语法支持 C 语言中的一些常用运算符，不等号运算符如下表所示：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>比较作用</th>
</tr>
</thead>
</table>
<blockquote>
<p>  | 大于某数<br>&#x3D; 和 &#x3D;&gt; | 大于或等于某数<br>  &lt;   | 小于某数<br> &lt;&#x3D; 和 &#x3D;&lt; | 小于或等于某数<br> !&#x3D; 和 &lt;&gt; | 不等于某数</p>
</blockquote>
<p>此外，谓词字符串语法还支持括号表达式、AND、OR 和 NOT 逻辑运算符，以及用 C 语言样式表示具有相同功能的 “&amp;&amp;”、”||” 和 “!” 符号。</p>
<p>我们可以筛选出马力在某个范围内的汽车：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;(engine.horsepower &gt; 50) AND (engine.horsepower &lt; 200)&quot;</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;oop %@&quot;</span>, results);</span><br></pre></td></tr></table></figure>

<p>上面是筛选出马力在50和200之间的汽车。</p>
<p>谓词字符串中的运算符不区分大小写，比如上面的 AND，可以随便写，比如：And、aNd等。</p>
<p>不等号既适用于数字值也适用于字符串值，比如按照字母表顺序查看所有名字排在 “Newton” 之前的汽车：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;name &lt; &#x27;Newton&#x27;&quot;</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, [results valueForKey:<span class="string">@&quot;name&quot;</span>]);</span><br></pre></td></tr></table></figure>

<h2 id="数组运算符"><a href="#数组运算符" class="headerlink" title="数组运算符"></a>数组运算符</h2><p>上面筛选马力在50到200之间的汽车使用的谓词字符串为 <code>&quot;(engine.horsepower &gt; 50) AND (engine.horsepower &lt; 200)&quot;</code>，我们还可以写得更加简洁：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;engine.horsepower BETWEEN &#123; 50, 200 &#125;&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>花括号表示数组，BETWEEN 将数组中的第一个元素看成数组的下限，第二个元素看成数组的上限。</p>
<p>可以使用 <code>%@</code> 格式说明符向 NSArray 数组中插入对象：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *betweens = [<span class="built_in">NSArray</span> arrayWithObjects:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">50</span>], [<span class="built_in">NSNumber</span> numberWithInt:<span class="number">200</span>], <span class="literal">nil</span>];</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;engine.horsepower BETWEEN %@&quot;</span>, betweens];</span><br></pre></td></tr></table></figure>

<p>也可以使用变量：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;engine.horsepower BETWEEN $POWERS&quot;</span>];</span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:betweens, <span class="string">@&quot;POWERS&quot;</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];</span><br></pre></td></tr></table></figure>

<p>数组不仅可以用来指定某个区间的端点值，还可以配合 IN 运算符来查找数组中是否含有某个特定值，跟 SQL 很像哈：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;name IN &#123; &#x27;Herbie&#x27;, &#x27;Snugs&#x27;, &#x27;Badger&#x27;, &#x27;Flap&#x27; &#125;&quot;</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, [results valueForKey:<span class="string">@&quot;name&quot;</span>]);</span><br></pre></td></tr></table></figure>

<h1 id="0x07-有-SELF-就足够了"><a href="#0x07-有-SELF-就足够了" class="headerlink" title="0x07 有 SELF 就足够了"></a>0x07 有 SELF 就足够了</h1><p>有时候，我们可能需要将谓词应用于简单的值（例如纯文本的字符串），而不是那些通过键路径进行操作的复杂对象，比如我们需要从一汽车名称的数组中查询 name 时，就不能像之前那样子用了，这时候就轮到 <code>SELF</code> 出场了！</p>
<p><code>SELF</code> 表示的是响应谓词计算的对象，事实上我们可以将谓词中所有的键路径表示成对应的 SELF 形式：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;SELF.name IN &#123; &#x27;Herbie&#x27;, &#x27;Snugs&#x27;, &#x27;Badger&#x27;, &#x27;Flap&#x27; &#125;&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>我们先获取所有的汽车名称，然后构造一个谓词，并计算该谓词的值：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">names = [cars valueForKey:<span class="string">@&quot;name&quot;</span>];</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;SELF IN &#123; &#x27;Herbie&#x27;, &#x27;Snugs&#x27;, &#x27;Badger&#x27;, &#x27;Flap&#x27; &#125;&quot;</span>];</span><br><span class="line">results = [names filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, results);</span><br></pre></td></tr></table></figure>

<p>结果和前面的示例是一样的：Herbie 和 Badger。</p>
<p>这里提一个问题，以下代码会输出什么呢？</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *names1 = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@&quot;Herbie&quot;</span>, <span class="string">@&quot;Badger&quot;</span>, <span class="string">@&quot;Judge&quot;</span>, <span class="string">@&quot;Elvis&quot;</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSArray</span> *names2 = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@&quot;Judge&quot;</span>, <span class="string">@&quot;Paper Car&quot;</span>, <span class="string">@&quot;Badger&quot;</span>, <span class="string">@&quot;Phoenix&quot;</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@&quot;SELF IN %@&quot;</span>, names1];</span><br><span class="line">results = [names2 filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, results);</span><br></pre></td></tr></table></figure>

<p>答案如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(</span><br><span class="line">    Judge,</span><br><span class="line">    Badger</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>对于取两个数组交集的运算来说，这种方式很巧妙。谓词包含了第一个数组的内容，因此和下面的形式类似：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELF IN &#123;<span class="string">&quot;Herbie&quot;</span>, <span class="string">&quot;Badger&quot;</span>, <span class="string">&quot;Judge&quot;</span>, <span class="string">&quot;Elvis&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>现在，使用该谓词筛选第二个名称数组，在 name2 中如果有同时存在两个数组中的字符串，那么 <code>SELF IN</code> 会确定它是符合条件的，因此它就会保留在结果数组中，如果对象只存在于第二个数组中，那么它不会与谓词中的任何字符串匹配，所以该对象将被过滤掉，而只存在于第一个数组中的字符串因为要用来进行比较，所以将一直保留在原来的位置，不会出现在结果数组中。</p>
<h1 id="0x08-字符串运算符"><a href="#0x08-字符串运算符" class="headerlink" title="0x08 字符串运算符"></a>0x08 字符串运算符</h1><p>之前使用字符串时说到过关系运算符，此外，还有一些针对字符串的关系运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>BEGINSWITH</td>
<td>检查某个字符串是否以另一个字符串开头</td>
</tr>
<tr>
<td>ENDSWITH</td>
<td>检查某个字符串是否以另一个字符串结尾</td>
</tr>
<tr>
<td>CONTAINS</td>
<td>检查某个字符串是否在另一个字符串内部</td>
</tr>
</tbody></table>
<p>使用关系运算符可以执行一些有用的操作，例如使用 <code>&quot;name BEGINSWITH &#39;Bad&#39;&quot;</code> 匹配 Badger，使用 <code>&quot;name ENDSWITH &#39;vis&#39;&quot;</code> 匹配 Elvis，以及使用 <code>&quot;name CONTAINS udg&quot;</code>  匹配 Judge。</p>
<p>如果是 <code>&quot;name BEGINSWITH &#39;HERB&#39;&quot;</code> 这样的呢？它不会与 Herbie 匹配，因为这些匹配是区分大小写的，同样，<code>&quot;name BEGINSWITH &#39;Hérb&#39;&quot;</code> 也不会与之匹配，因为其中的 e 是含有重音符的。为了避免这些情况，可以为运算符添加 [c]、[d] 或 [cd] 修饰符，其中 c 表示 “不区分大小写”，d 表示 “不区分发音符号（diacritic insensitive，即忽略重音符）”，cd 表示 “即不区分大小写，也不区分发音符号”。通常情况下，都会使用这两个修饰符，除非有特殊需求需要区分大小写或者重音符号。</p>
<p>所以 Herbie 和 “name BEGINSWITH[cd] ‘HERB’” 相匹配。</p>
<h1 id="0x09-LIKE-运算符"><a href="#0x09-LIKE-运算符" class="headerlink" title="0x09 LIKE 运算符"></a>0x09 LIKE 运算符</h1><p>了解 SQL 的同学看到 LIKE 应该能猜到了，没错，有时候匹配开头或者结尾，又或者是否包含还不够，所以谓词格式字符串还提供了 LIKE 运算符，问号表示与一个字符匹配，型号表示与任意个字符匹配，也可以称为 “通配符”。</p>
<p>谓词字符串 “name LIKE ‘*er*‘“ 将会与任何含有 er 的名称相匹配，等效于 CONTAINS。</p>
<p>谓词字符串 “name LIKE ‘???er*’” 将会与 Pager Car 相匹配，因为其中的 er 前面有3个字符，后面也有一些字符。但是它与 Badger 不匹配，因为 Badger 的 er 前面有4个字符。</p>
<p>另外，LIKE 也接收 [cd] 修饰符，用户忽略大小写和发音符号。</p>
<p>如果你喜欢用正则表达式，可以使用 MATCHES 运算符，赋给它一个正则表达式，谓词将会计算出它的值。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/iOS/" rel="tag"># iOS</a>
              <a href="/tags/Objective-C/" rel="tag"># Objective-C</a>
              <a href="/tags/NSPredicate/" rel="tag"># NSPredicate</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2015/08/19/iosre-find-app-installation-and-sandbox-directory/" rel="prev" title="查找目标 App 在 iPhone 里的目录">
                  <i class="fa fa-chevron-left"></i> 查找目标 App 在 iPhone 里的目录
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2015/10/23/reveal-troubleshooting-0x00/" rel="next" title="Reveal 升级之后不能在手机上查看 App 的解决办法">
                  Reveal 升级之后不能在手机上查看 App 的解决办法 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments disqusjs">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">我的眼里只有代码</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"dFo2NvCcL1s5zeJtuvzonGrj-gzGzoHsz","app_key":"3gyJUovHABTEqJVyX08exA3z","server_url":"https://dfo2nvcc.lc-cn-n1-shared.com","security":true,"betterPerformance":true}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/disqusjs/3.0.2/styles/disqusjs.css" integrity="sha256-71XarXwNr1Td27HmZI9zjY+rMzRdush6/glo6VFXp7o=" crossorigin="anonymous">

<script class="next-config" data-name="disqusjs" type="application/json">{"enable":true,"api":"https://disqus.skk.moe/disqus/","apikey":"uj8xezGVZDTcz9VxvSxN8dCZF9vA2FgKyRXo2Bxfz3sAOc64cyH6GboKmy4KeAlZ","shortname":"ihappyhacking","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/disqusjs/3.0.2/disqusjs.es2015.umd.min.js","integrity":"sha256-okP99ZQKVpIy7+NogAMpGlIQzJa9XKXhIJcFgdju5bU="}}</script>
<script src="/js/third-party/comments/disqusjs.js"></script>

</body>
</html>
